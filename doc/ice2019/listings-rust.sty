\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{listings-rust}[2018/01/23 Custom Package]

\RequirePackage{color}
\RequirePackage{listings}

\lstdefinelanguage{Rust}{%
  sensitive%
, morecomment=[l]{//}%
, morecomment=[s]{/*}{*/}%
, moredelim=[s][{\itshape\color[rgb]{0,0,0.75}}]{\#[}{]}%
, morestring=[b]{"}%
, alsodigit={}%
, alsoother={}%
, alsoletter={!}%
%
% [1] reserve keywords
% [2] traits
% [3] primitive types
% [4] type and value constructors
% [5] identifier
%
, morekeywords={break, continue, else, for, if, in, loop, match, return, while}
, morekeywords={as, const, let, move, mut, ref, static}
, morekeywords={dyn, enum, fn, impl, Self, self, struct, trait, type, union, use, where}
, morekeywords={crate, extern, mod, pub, super}
, morekeywords={unsafe}
, morekeywords={abstract, alignof, become, box, do, final, macro, offsetof, override, priv, proc, pure, sizeof, typeof, unsized, virtual, yield}
, morekeywords=[2]{Error, Session, FnOnce, Drop}
, morekeywords=[3]{bool, char, f32, f64, i8, i16, i32, i64, isize, str, u8, u16, u32, u64, unit, usize, i128, u128}
, morekeywords=[4]{Vec, Select, Result, Ok, Err, Option, Some, None, Send, Recv, End, Neg, Sqr, Add, Sub, Box, Dual, Self, Either, Left, Right, Void, Chan, Eps, Choose, Offer, Sender, Receiver, Rec, Var, Z, NegSrv, SqrSrv, NegCli, SqrCli, IntStream, CalcSrv, CalcCli, CalcOp}
, morekeywords=[5]{mpsc_select!, println!, assert!, assert_eq!, choose!, offer!, fork!, panic!}
%, morekeywords=[6]{choose, offer, fork, send, recv, close, cancel, connect, client, server, select, select_mut, main, spawn, drop, new, cancel, channel, choose_left, choose_right, offer_either, is_empty, push, try_select, select_timeout, try_ready, ready, ready_timeout, forget}
}

\lstdefinestyle{colouredRust}%
{ basicstyle=\ttfamily%
, identifierstyle=%
, commentstyle=\color[gray]{0.4}%
, stringstyle=\color[rgb]{0, 0, 0.5}%
, keywordstyle=\bfseries% reserved keywords
, keywordstyle=[2]\color[rgb]{0.75, 0, 0}% traits
, keywordstyle=[3]\color[rgb]{0, 0.5, 0}% primitive types
, keywordstyle=[4]\color[rgb]{0, 0.5, 0}% type and value constructors
, keywordstyle=[5]\color[rgb]{0, 0, 0.75}% macros
%, keywordstyle=[6]\color[rgb]{0, 0, 0.75}% functions
, columns=spaceflexible%
, keepspaces=true%
, showspaces=false%
, showtabs=false%
, showstringspaces=true%
}%
