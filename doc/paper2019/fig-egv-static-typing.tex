\begin{figure*}
  \begin{mdframed}\begin{highlight}
    \setstretch{2.5}

    \header{Term Typing}{\gvSeq{\ty{\Gamma}}{M}{A}}
    \begin{center} 
      \begin{prooftree*}
        \AXC{}
        \RightLabel{\rlabel{\textsc{T-Var}}{rule:egv-ty-var}}
        \UIC{$\gvSeq{\tmty{x}{A}}{\gvVar{x}}{A}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}\st{,}\;\tmty{x}{A}}{M}{B}$}
        \RightLabel{\rlabel{\textsc{T-Abs}}{rule:egv-ty-abs}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvAbs[A]{x}{M}}{\gvTyFun{A}{B}}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyFun{A}{B}}$}
        \AXC{$\gvSeq{\ty{\Delta}}{N}{A}$}
        \RightLabel{\rlabel{\textsc{T-App}}{rule:egv-ty-app}}
        \BIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvApp{M}{N}}{B}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{}
        \RightLabel{\rlabel{\textsc{T-Unit}}{rule:egv-ty-unit}}
        \UIC{$\gvSeq{\emptyenv}{\gvUnit}{\gvTyUnit}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyUnit}$}
        \AXC{$\gvSeq{\ty{\Delta}}{N}{A}$}
        \RightLabel{\rlabel{\textsc{T-LetUnit}}{rule:egv-ty-letunit}}
        \BIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvLetUnit{M}{N}}{A}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{A}$}
        \AXC{$\gvSeq{\ty{\Delta}}{N}{B}$}
        \RightLabel{\rlabel{\textsc{T-Pair}}{rule:egv-ty-pair}}
        \BIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvPair{M}{N}}{\gvTyPair{A}{B}}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyPair{A}{B}}$}
        \AXC{$\gvSeq{\ty{\Delta}\st{,}\;\tmty{x}{A}\st{,}\;\tmty{y}{B}}{N}{C}$}
        \RightLabel{\rlabel{\textsc{T-LetPair}}{rule:egv-ty-letpair}}
        \BIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvLetPair{x}{y}{M}{N}}{C}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{A}$}
        \RightLabel{\rlabel{\textsc{T-Left}}{rule:egv-ty-left}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvInl{M}}{\gvTySum{A}{B}}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{B}$}
        \RightLabel{\rlabel{\textsc{T-Right}}{rule:egv-ty-right}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvInr{M}}{\gvTySum{A}{B}}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{L}{\gvTySum{A}{B}}$}
        \AXC{$\gvSeq{\ty{\Delta}\st{,}\;\tmty{x}{A}}{M}{C}$}
        \AXC{$\gvSeq{\ty{\Delta}\st{,}\;\tmty{y}{B}}{N}{C}$}
        \RightLabel{\rlabel{\textsc{T-CaseSum}}{rule:egv-ty-casesum}}
        \TIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvCaseSum{L}{x}{M}{y}{N}}{C}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{A}$}
        \RightLabel{\rlabel{\textsc{T-Cancel}}{rule:egv-ty-cancel}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvCancel{M}}{\gvUnit}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{L}{A}$}
        \AXC{$\gvSeq{\ty{\Delta}\st{,}\;\tmty{x}{A}}{M}{B}$}
        \AXC{$\gvSeq{\ty{\Gamma}}{N}{B}$}
        \RightLabel{\rlabel{\textsc{T-Try}}{rule:egv-ty-try}}
        \TIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvTry{L}{x}{M}{N}}{B}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{}
        \RightLabel{\rlabel{\textsc{T-Raise}}{rule:egv-ty-raise}}
        \UIC{$\gvSeq{\emptyenv}{\gvRaise}{A}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyFun{S}{\gvTyUnit}}$}
        \RightLabel{\rlabel{\textsc{T-Fork}}{rule:egv-ty-fork}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvFork{M}}{\gvDual{S}}$}
      \end{prooftree*}    
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyEnd}$}
        \RightLabel{\rlabel{\textsc{T-Close}}{rule:egv-ty-close}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvClose{M}}{\gvUnit}$}
      \end{prooftree*}
      
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{A}$}
        \AXC{$\gvSeq{\ty{\Delta}}{N}{\gvTySend{A}{S}}$}
        \RightLabel{\rlabel{\textsc{T-Send}}{rule:egv-ty-send}}
        \BIC{$\gvSeq{\ty{\Gamma}\st{,}\;\ty{\Delta}}{\gvSend{M}{N}}{S}$}
      \end{prooftree*}
      \begin{prooftree*}
        \AXC{$\gvSeq{\ty{\Gamma}}{M}{\gvTyRecv{A}{S}}$}
        \RightLabel{\rlabel{\textsc{T-Recv}}{rule:egv-ty-recv}}
        \UIC{$\gvSeq{\ty{\Gamma}}{\gvRecv{M}}{\gvPair{A}{S}}$}
      \end{prooftree*}
    \end{center}
      
    \header{Duality}{\gvDual{S}}
    \begin{center}
      \(
      \gvDual{\gvTySend{A}{S}}\;=\;\gvTyRecv{A}{\gvDual{S}}
      \quad
      \gvDual{\gvTyRecv{A}{S}}\;=\;\gvTySend{A}{\gvDual{S}}
      \quad
      \gvDual{\gvTyEnd}\;=\;\gvTyEnd
      \)
    \end{center}
  \end{highlight}\end{mdframed}
\caption{Exceptional GV, static typing.}
\label{fig:egv-static-typing}
\end{figure*}

%%% Local Variables:
%%% TeX-master: "main"
%%% End: