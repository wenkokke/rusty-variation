\documentclass[sigplan,screen,review]{acmart}
\title{Rusty Variation}
\subtitle{Session Types with Failure for Rust}
\author{Wen Kokke}
\orcid{0000-0002-1662-0381}
\affiliation{
  \department{Laboratory for Foundations of Computer Science}
  \institution{University of Edinburgh}
  \streetaddress{10 Crichton Street}
  \city{Edinburgh}
  \state{Scotland}
  \postcode{EH8 9AB}
  \country{United Kingdom}
}
\email{wen.kokke@ed.ac.uk}
\setcopyright{none}
\settopmatter{printccs=false, printacmref=false, printfolios=false}

\input{preamble}

\begin{document}
\maketitle

\section{Exceptional GV}

\input{fig-egv-syntax}
\input{fig-egv-typing}
\input{fig-egv-runtime}
\input{fig-egv-reduction}

\subsection{Affine EGV}
We make three changes to EGV to obtain affine EGV:
\begin{enumerate}
\item 
  Remove the $\gvCancel{x}$ construct.
\item
  Change the typing rules to allow implicit weakening:
  \begin{prooftree}
    \AXC{$\tmty{\gvVar{x}}{A}\in\ty{\Gamma}$}
    \RightLabel{\textsc{T-Var}}
    \UIC{$\seq{\ty{\Gamma}}{\gvVar{x}}{A}$}
  \end{prooftree}
  \vspace*{0.25\baselineskip}
  \begin{center}
    \begin{prooftree*}
      \AXC{}
      \RightLabel{\textsc{T-Unit}}
      \UIC{$\seq{\ty{\Gamma}}{\gvUnit}{\gvTyUnit}$}
    \end{prooftree*}%
    \begin{prooftree*}
      \AXC{}
      \RightLabel{\textsc{T-Raise}}
      \UIC{$\seq{\ty{\Gamma}}{\gvRaise}{A}$}
    \end{prooftree*}
  \end{center}
\item
  Add a garbage collection reduction, where $\gvArc{\gvVar{a}}{\gvConf{C}}$ counts the number of occurrences of $\gvVar{a}$ in $\gvConf{C}$:
  \begin{center}
    \(
    \textsc{E-Drop}
    \quad
    {\gvRes{a}{\gvConf{C}}}
    \gvRedArr
    {\gvRes{a}{\gvPPar{\gvZap{a}}{\gvConf{C}}}}
    \quad
    \text{if} \; \gvArc{\gvVar{a}}{\gvConf{C}} = 1
    \)
  \end{center}
\end{enumerate}

\end{document}
